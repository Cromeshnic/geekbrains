<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <title>Task tracker - tasks</title>
</head>

<body>
<h1>Tasks:</h1>

<form th:action="@{/tasks/show}" method="GET" >
    <div>
        <label for="status">Task status:</label>
        <select id="status" name="status">
            <option value="">--Any--</option>
            <option
                    th:each="stat : ${T(ru.dsi.geekbrains.testproject.entities.Task.Status).values()}"
                    th:value="${stat.name()}"
                    th:text="${stat.toString()}"
                    th:attr="selected=${status.equals(stat.name())}"></option>
        </select>
    </div>
    <div>
        <label for="assignee">Assignee:</label>
        <input type="text" id="assignee" name="assignee" th:value="${assignee}"/>
    </div>
    <input type="submit" value="Search"/>
</form>
<table>

    <thead>
    <tr>
        <td>ID</td>
        <td>Title</td>
        <td>Status</td>
        <td>Owner</td>
        <td>Assignee</td>
    </tr>
    </thead>
    <tbody>
    <!--/*@thymesVar id="tasks" type="java.util.List<ru.dsi.geekbrains.testproject.entities.Task>"*/-->
    <!--/*@thymesVar id="t" type="ru.dsi.geekbrains.testproject.entities.Task"*/-->
    <tr th:each="t : ${tasks}">
        <td th:text="${t.id}"></td>
        <td th:text="${t.title}"></td>
        <td th:text="${t.status}"></td>
        <td th:text="${t.owner}"></td>
        <td th:text="${t.assignee}"></td>
        <td><a th:attr="href=@{/tasks/detail/{id}(id=${t.id})}" target="_blank">Detail</a></td>
    </tr>
    </tbody>
</table>
<a th:href="@{/}">main</a>
</body>
</html>